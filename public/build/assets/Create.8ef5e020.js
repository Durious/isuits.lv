import{L as j}from"./Layout.c268843b.js";import{T as D}from"./TextInput.f4f909b7.js";import{F as E}from"./FileInput.bfc636d8.js";import{L as M}from"./LoadingButton.323ea2dd.js";import{T as P}from"./TextareaInput.1737678e.js";import{_ as S,r as a,o as m,c as f,a as t,b as s,w as U,f as h,t as u,k as z,n as C,e as g,F as T,g as A,d as R}from"./app.d8289e67.js";import"./Dropdown.48a14283.js";import"./FlashMessages.3029884e.js";import"./InputError.b5dfb222.js";import"./Input.954bfb09.js";const q={layout:j,components:{LoadingButton:M,TextInput:D,FileInput:E,TextareaInput:P},metaInfo(){return{title:this.$tc("custom_field",2)}},data(){return{errors:{},form:{name:"",type:"",tag:"",options:[{name:"",description:"",file:"",preview:""},{name:"",description:"",file:"",preview:""}],description:""},sending:!1,types:["Text","Number","ImageRadio","Radio","TextArea"]}},methods:{addOption(){this.form.options.push({name:"",description:"",file:"",preview:""})},removeOption(){this.form.options.pop()},submit(){this.sending=!0;const r=new FormData;r.append("name",this.form.name),r.append("type",this.form.type),r.append("description",this.form.description),r.append("tag",this.form.tag),(this.form.type==="Radio"||this.form.type==="ImageRadio")&&this.form.options.forEach((l,b)=>{for(let n in l)n==="file"||n==="preview"?this.form.type==="ImageRadio"&&r.append(`options[${b}][${n}]`,l[n]||""):r.append(`options[${b}][${n}]`,l[n])}),this.$inertia.post(this.route("customfields.store"),r,{onError:l=>{this.errors=l},onFinish:()=>{this.sending=!1}})}}},G={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},H=t("span",{class:"text-gray-400 font-medium mx-2"},"/",-1),J={class:"bg-white rounded shadow overflow-hidden max-w-3xl"},K={class:"p-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},Q={class:"px-8 pb-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},W={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full"},X={class:"form-label",for:"type"},Y={key:0,class:"form-error"},Z={class:"w-full"},$={class:"mb-3"},ee={class:"flex w-full"},re={class:"w-full flex items-center justify-end mt-5 mb-6 gap-4 ltr:pr-6 rtl:pl-6"},oe=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),te=[oe],le=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15"})],-1),se=[le],ne={class:"px-8 pb-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},ie={class:"px-8 pb-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},pe={class:"px-8 py-4 bg-gray-100 border-t border-gray-200 flex justify-end items-center"};function ae(r,l,b,n,e,d){var w,_,v,V,x,k,I;const B=a("Icons"),L=a("Link"),c=a("text-input"),N=a("v-select"),y=a("file-input"),O=a("textarea-input"),F=a("loading-button");return m(),f("div",null,[t("h1",G,[s(L,{class:"text-gray-600 hover:text-gray-800 inline-flex items-center",href:r.route("customfields")},{default:U(()=>[s(B,{name:"back",class:"flex-shrink-0 w-3 h-3 md:w-5 md:h-5 fill-current ltr:mr-2 rtl:ml-2 rtl:rotate"}),h(" "+u(r.$tc("custom_field",2)),1)]),_:1},8,["href"]),H,h(" "+u(r.$t("Create")),1)]),t("div",J,[t("form",{onSubmit:l[6]||(l[6]=z((...o)=>d.submit&&d.submit(...o),["prevent"])),autocomplete:"off"},[t("div",K,[s(c,{modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.form.name=o),errors:(w=e.errors)==null?void 0:w.name,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-full",label:r.$t("Name")},null,8,["modelValue","errors","label"])]),t("div",Q,[t("div",W,[t("label",X,u(r.$tc("Type")),1),s(N,{dir:r.$page.props.user.account.direction,transition:"","input-id":"type",options:e.types,filterable:!1,searchable:!1,modelValue:e.form.type,"onUpdate:modelValue":l[1]||(l[1]=o=>e.form.type=o),placeholder:r.$t("select_x",{x:r.$t("Type")}),class:C({error:((_=e.errors)==null?void 0:_.type)&&((v=e.errors)==null?void 0:v.type.length)})},null,8,["dir","options","modelValue","placeholder","class"]),(V=e.errors)!=null&&V.type?(m(),f("div",Y,u((x=e.errors)==null?void 0:x.type),1)):g("",!0)]),e.form.type==="Radio"||e.form.type==="ImageRadio"?(m(),f(T,{key:0},[t("div",Z,[(m(!0),f(T,null,A(e.form.options,(o,i)=>(m(),f("div",{key:i,class:C(["py-5",i!==0?"border-t":""])},[t("div",$,u(r.$tc("Option")+" "+(i+1)),1),t("div",ee,[s(c,{modelValue:o.name,"onUpdate:modelValue":p=>o.name=p,class:"ltr:pr-6 rtl:pl-6 w-full lg:w-1/2",label:r.$t("Name"),errors:e.errors["options."+i+".name"]},null,8,["modelValue","onUpdate:modelValue","label","errors"]),s(c,{modelValue:o.description,"onUpdate:modelValue":p=>o.description=p,class:"ltr:pr-6 rtl:pl-6 w-full lg:w-1/2",label:r.$t("Description"),errors:e.errors["options."+i+".description"]},null,8,["modelValue","onUpdate:modelValue","label","errors"])]),e.form.type==="ImageRadio"?(m(),R(y,{key:0,type:"file",accept:"image/*",label:r.$t("Photo"),modelValue:o.file,"onUpdate:modelValue":p=>o.file=p,error:e.errors["options."+i+".file"],class:"ltr:pr-6 rtl:pl-6 w-full lg:w-full"},null,8,["label","modelValue","onUpdate:modelValue","error"])):g("",!0),e.form.type==="ImageRadio"?(m(),R(y,{key:1,type:"file",accept:"image/*",label:r.$t("Preview"),modelValue:o.preview,"onUpdate:modelValue":p=>o.preview=p,error:e.errors["options."+i+".preview"],class:"ltr:pr-6 rtl:pl-6 w-full lg:w-full"},null,8,["label","modelValue","onUpdate:modelValue","error"])):g("",!0)],2))),128))]),t("div",re,[t("button",{type:"button",onClick:l[2]||(l[2]=(...o)=>d.addOption&&d.addOption(...o)),class:"bg-gray-700 px-3 py-1.5 rounded-md text-gray-50 hover:bg-gray-800"},te),t("button",{type:"button",onClick:l[3]||(l[3]=(...o)=>d.removeOption&&d.removeOption(...o)),class:"bg-gray-700 px-3 py-1.5 rounded-md text-gray-50 hover:bg-gray-800"},se)])],64)):g("",!0)]),t("div",ne,[s(c,{modelValue:e.form.tag,"onUpdate:modelValue":l[4]||(l[4]=o=>e.form.tag=o),errors:(k=e.errors)==null?void 0:k.tag,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-full",label:r.$t("Tag")},null,8,["modelValue","errors","label"])]),t("div",ie,[s(O,{label:r.$t("Description"),modelValue:e.form.description,"onUpdate:modelValue":l[5]||(l[5]=o=>e.form.description=o),error:(I=e.errors)==null?void 0:I.description,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full"},null,8,["label","modelValue","error"])]),t("div",pe,[s(F,{loading:e.sending,class:"btn-gray",type:"submit"},{default:U(()=>[h(u(r.$t("create_x",{x:r.$tc("custom_field")})),1)]),_:1},8,["loading"])])],32)])])}const _e=S(q,[["render",ae]]);export{_e as default};
