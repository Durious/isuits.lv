import y from"./ShowLog.6b2b60bb.js";import{p as k}from"./pickBy.bd80f484.js";import{t as x}from"./throttle.7e7db953.js";import{S as v,m as C}from"./SearchFilter.6af03689.js";import{L}from"./Layout.c268843b.js";import{M}from"./Modal.44e047a5.js";import{P as V}from"./Pagination.cc1280e3.js";import{_ as B,r as i,o as l,c as n,a as t,t as o,b as d,F as S,g as N,e as c,w as j,f as _,d as f}from"./app.d8289e67.js";import"./debounce.9b400763.js";import"./Dropdown.48a14283.js";import"./FlashMessages.3029884e.js";const O={layout:L,components:{Pagination:V,SearchFilter:v,ShowLog:y,Modal:M},props:{logs:Object,filters:Object},metaInfo(){return{title:this.$tc("Log",2)}},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed},log:null,viewModal:!1}},watch:{form:{handler:x(function(){let e=k(this.form);this.$inertia.replace(this.route("logs",Object.keys(e).length?e:{remember:"forget"}))},150),deep:!0}},methods:{rowClicked(e){this.log=this.logs.data.find(r=>r.id==e),this.viewModal=!0},reset(){this.form=C(this.form,()=>null)}}},$={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},F={class:"np mb-6 flex justify-between items-center"},I={class:"bg-white rounded shadow overflow-x-auto"},P={class:"w-full whitespace-no-wrap"},D={class:"text-left font-bold"},R={class:"px-6 pt-6 pb-4"},q={class:"px-6 pt-6 pb-4"},E={class:"px-6 pt-6 pb-4"},T={class:"px-6 pt-6 pb-4",colspan:"2"},U=["onClick"],W={class:"border-t px-6 py-4"},z={class:"border-t px-6 py-4"},A={class:"flex items-center"},G={class:"border-t px-6 py-4"},H={class:"flex items-center"},J={class:"border-t px-6 py-4"},K={key:0},Q={key:1},X={class:"border-t px-6 py-4 w-8"},Y={key:0},Z={class:"border-t px-6 py-4",colspan:"4"};function tt(e,r,m,et,a,p){const u=i("search-filter"),h=i("Icons"),w=i("pagination"),b=i("ShowLog"),g=i("Modal");return l(),n("div",null,[t("div",null,[t("h1",$,o(e.$tc("Log",2)),1),t("div",F,[d(u,{"no-slot":"",modelValue:a.form.search,"onUpdate:modelValue":r[0]||(r[0]=s=>a.form.search=s),class:"w-full max-w-md ltr:mr-4 rtl:ml-4",onReset:p.reset,dropdown:!1},null,8,["modelValue","onReset"])]),t("div",I,[t("table",P,[t("thead",null,[t("tr",D,[t("th",R,o(e.$t("Created at")),1),t("th",q,o(e.$t("Name")),1),t("th",E,o(e.$t("Description")),1),t("th",T,o(e.$t("By")),1)])]),t("tbody",null,[(l(!0),n(S,null,N(m.logs.data,s=>(l(),n("tr",{key:s.id,onClick:st=>p.rowClicked(s.id),class:"cursor-pointer hover:bg-teal-200 focus-within:bg-teal-200"},[t("td",W,o(e.$datetime(s.created_at)),1),t("td",z,[t("div",A,[_(o(s.log_name)+" ",1),s.deleted_at?(l(),f(h,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ml-2"})):c("",!0)])]),t("td",G,[t("div",H,[_(o(s.description)+" ",1),s.deleted_at?(l(),f(h,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ml-2"})):c("",!0)])]),t("td",J,[s.causer?(l(),n("div",K,o(s.causer.name),1)):c("",!0),!s.causer&&s.log_name==="ProductOrder"&&s.event==="updated"?(l(),n("div",Q,o(e.$t("Webhook")),1)):c("",!0)]),t("td",X,[d(h,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400 rtl:rotate"})])],8,U))),128)),m.logs.data.length===0?(l(),n("tr",Y,[t("td",Z,o(e.$t("no_x_found",{x:e.$tc("Log")})),1)])):c("",!0)])])]),d(w,{links:m.logs.links,meta:m.logs.meta},null,8,["links","meta"])]),d(g,{show:a.viewModal,"max-width":"2xl",closeable:!0,onClose:r[2]||(r[2]=()=>a.viewModal=!1)},{default:j(()=>[d(b,{log:a.log,onClose:r[1]||(r[1]=()=>a.viewModal=!1)},null,8,["log"])]),_:1},8,["show"])])}const _t=B(O,[["render",tt]]);export{_t as default};
