import{T as _,a as b}from"./InputError.b5dfb222.js";import{T as y}from"./Input.954bfb09.js";import{_ as k,v as V,r as n,o as i,c as a,a as r,n as x,d as f,e as u,b as c,f as h,t as p}from"./app.d8289e67.js";const U={emits:["update:modelValue"],components:{TecLabel:_,TecInput:y,TecInputError:b},props:{label:String,error:String,accept:String,modelValue:File|String,previewUrl:{type:String,default:null},id:{type:String,default(){return V()}}},data(){return{previewImageUrl:this.previewUrl&&this.modelValue?this.previewUrl+this.modelValue:null}},watch:{modelValue(e){e?typeof e=="object"&&this.previewImage(e):(this.previewImageUrl=null,this.$refs.file.value="")}},computed:{selected(){return typeof this.modelValue=="string"?this.modelValue:this.modelValue?this.modelValue.name+" ("+this.filesize(this.modelValue.size)+")":""}},methods:{filesize(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][t]},browse(){this.$refs.file.click()},change(e){this.$emit("update:modelValue",e.target.files[0])},remove(){this.$emit("update:modelValue",null)},previewImage(e){const t=new FileReader;t.onload=l=>{this.previewImageUrl=l.target.result},t.readAsDataURL(e)}}},I={class:"flex mt-1 items-center"},B={class:"relative rounded-md mt-1"},C={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},S={class:"absolute inset-y-0 right-0 flex items-stretch"},T={class:"hidden sm:inline-block"},F={class:"hidden sm:inline-block"},M=["id","accept"],N={key:0,class:"w-1/6"},R=["src"];function z(e,t,l,j,d,s){const v=n("tec-label"),m=n("icons"),g=n("tec-input"),w=n("tec-input-error");return i(),a("div",null,[r("div",I,[r("div",{class:x(l.previewUrl&&d.previewImageUrl?"w-5/6":"w-full")},[l.label?(i(),f(v,{key:0,for:l.id,value:l.label},null,8,["for","value"])):u("",!0),r("div",B,[r("div",C,[c(m,{name:"link",class:"text-gray-500"})]),c(g,{type:"text",onClick:s.browse,id:"file-input",readonly:"true",value:s.selected,placeholder:e.$t("Select File"),class:"form-input block w-full pl-10 pr-12"},null,8,["onClick","value","placeholder"]),r("div",S,[l.modelValue?(i(),a("button",{key:0,type:"button",onClick:t[0]||(t[0]=(...o)=>s.remove&&s.remove(...o)),class:"px-4 py-2 bg-red-500 hover:bg-red-700 focus:outline-none rounded-r-md font-medium text-white fill-white flex items-center"},[c(m,{name:"cross",class:"w-6 h-6 sm:mr-2"}),h("\xA0 "),r("span",T,p(e.$t("Remove")),1)])):(i(),a("button",{key:1,type:"button",onClick:t[1]||(t[1]=(...o)=>s.browse&&s.browse(...o)),class:"px-4 py-2 bg-gray-600 hover:bg-gray-800 focus:outline-none rounded-r-md font-medium text-white fill-white flex items-center"},[c(m,{name:"folder",class:"w-6 h-6 sm:mr-2"}),h("\xA0 "),r("span",F,p(e.$t("Browse")),1)]))]),r("input",{id:l.id,ref:"file",type:"file",accept:l.accept,class:"hidden",onChange:t[2]||(t[2]=(...o)=>s.change&&s.change(...o))},null,40,M)])],2),l.previewUrl&&d.previewImageUrl?(i(),a("div",N,[r("img",{src:d.previewImageUrl,class:"w-3/4 ml-auto rounded-full border-2 object-cover",style:{aspectRatio:1/1}},null,8,R)])):u("",!0)]),l.error?(i(),f(w,{key:0,message:l.error},null,8,["message"])):u("",!0)])}const A=k(U,[["render",z]]);export{A as F};
