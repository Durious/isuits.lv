import{T as V}from"./TextInput.f4f909b7.js";import{R as g}from"./RadioInput.967e0b49.js";import{T as w}from"./TextareaInput.1737678e.js";import{_ as C,r as c,o as t,c as s,a as i,t as d,e as u,F as f,g as k,b as p,d as B}from"./app.d8289e67.js";import"./InputError.b5dfb222.js";import"./Input.954bfb09.js";const U={components:{TextInput:V,TextareaInput:w,RadioInput:g},props:{cart:Object,icustom_fields:Array,opened:Boolean,modal:{type:Boolean,default:!0}},data(){return{form:{},errors:{}}},watch:{opened:function(n,r){const o={};this.icustom_fields.forEach(_=>{o[_.name]=""}),this.form={...o,...this.cart.customization},this.errors={}}},methods:{submit(){let n={},r=0;Object.keys(this.form).filter(o=>this.form[o]==="").forEach(o=>{r++,n[o]=o+" is required."}),this.errors=n,!(r>0)&&this.$emit("submit",{id:this.cart.id,data:this.form})},updateFormValue(n,r){this.form[r]=n}}},I={key:0,class:"w-full ltr:text-left rtl:text-right"},N={key:0,class:"np flex justify-between items-center px-6 py-4 mb-4 bg-gray-100 border-b rounded-t"},T={class:"font-bold"},z={class:"flex items-center"},F=i("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[i("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),L=[F],R={class:"w-full h-full ltr:pl-8 rtl:pr-8 py-5 leading-normal flex flex-wrap"},j={key:0,class:"form-error"},E={class:"np block xs:flex px-6 py-4 mt-4 bg-gray-100 border-t rounded-b"};function O(n,r,o,_,l,b){const y=c("text-input"),v=c("textarea-input"),x=c("radio-input");return o.cart&&o.cart.id?(t(),s("div",I,[o.modal?(t(),s("div",N,[i("p",T,d(n.$t("Customization")),1),i("div",z,[i("a",{class:"modal-close ml-2 cursor-pointer",onClick:r[0]||(r[0]=e=>n.$emit("close"))},L)])])):u("",!0),i("div",R,[(t(!0),s(f,null,k(o.icustom_fields,(e,m)=>(t(),s("div",{key:"custom_field_"+m,class:"w-1/2"},[e.type=="Text"?(t(),s("div",{key:"in_"+m},[p(y,{label:e.name,modelValue:l.form[e.name],"onUpdate:modelValue":a=>l.form[e.name]=a,class:"ltr:pr-6 rtl:pl-6 pb-4",errors:l.errors[e.name]},null,8,["label","modelValue","onUpdate:modelValue","errors"])])):u("",!0),e.type=="Number"?(t(),s("div",{key:"in_"+m},[p(y,{label:e.name,type:"Number",modelValue:l.form[e.name],"onUpdate:modelValue":a=>l.form[e.name]=a,errors:l.errors[e.name],class:"ltr:pr-6 rtl:pl-6 pb-4"},null,8,["label","modelValue","onUpdate:modelValue","errors"])])):u("",!0),e.type=="TextArea"?(t(),s("div",{key:"in_"+m},[p(v,{rows:5,label:e.name,modelValue:l.form[e.name],"onUpdate:modelValue":a=>l.form[e.name]=a,class:"ltr:pr-6 rtl:pl-6 pb-4",error:l.errors[e.name]},null,8,["label","modelValue","onUpdate:modelValue","error"])])):e.type=="Radio"||e.type=="ImageRadio"?(t(),s("div",{key:"in_"+m},[(t(),s("div",{class:"ltr:text-left rtl:text-right ltr:pr-6 rtl:pl-6 mb-8",key:"in_"+m},[(t(),s("label",{class:"form-label mr-6 font-medium text-gray-700",key:"in_"+m},d(e.name),1)),(t(!0),s(f,null,k(JSON.parse(e.options),(a,h)=>(t(),B(x,{name:e.name,label:a.name,value:a.name,class:"mb-2 w-full mr-6",id:"r_"+h+"_"+m,key:"r_"+h+"_"+m,checked:a.name==l.form[e.name],onInput:A=>b.updateFormValue(a.name,e.name)},null,8,["name","label","value","id","checked","onInput"]))),128)),l.errors[e.name]?(t(),s("div",j,d(l.errors[e.name]),1)):u("",!0)]))])):u("",!0)]))),128))]),i("div",E,[i("button",{onClick:r[1]||(r[1]=e=>b.submit()),class:"btn-gray ml-auto"},d(n.$t("Update")),1),i("button",{onClick:r[2]||(r[2]=e=>n.$emit("close")),class:"btn-gray ml-5"},d(n.$t("Close")),1)])])):u("",!0)}const H=C(U,[["render",O]]);export{H as default};
