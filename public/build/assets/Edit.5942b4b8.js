import{L as C}from"./Layout.c268843b.js";import{d as k}from"./DeleteMixin.d312fa19.js";import{F as D}from"./FileInput.bfc636d8.js";import{T}from"./TextInput.f4f909b7.js";import{T as L}from"./TextareaInput.1737678e.js";import{L as N}from"./LoadingButton.323ea2dd.js";import{T as B}from"./TrashedMessage.7363da80.js";import{D as E}from"./DeleteRestoreComponent.725db004.js";import{_ as I,r as l,o as g,c as R,a as r,b as n,w as m,f as a,t as i,d as M,e as U,k as j}from"./app.d8289e67.js";import"./Dropdown.48a14283.js";import"./FlashMessages.3029884e.js";import"./InputError.b5dfb222.js";import"./Input.954bfb09.js";import"./Dialog.05b0b37c.js";import"./Modal.44e047a5.js";const O={layout:C,remember:"form",props:{category:Object,icustomFields:Object},mixins:[k("category")],components:{LoadingButton:N,TextInput:T,FileInput:D,TextareaInput:L,TrashedMessage:B,DeleteRestoreComponent:E},data(){return{errors:{},restore:!1,sending:!1,form:{name:this.category.name,photo:this.category.photo,description:this.category.description,deleted_at:this.category.deleted_at,customFields:this.category.customFields.map(e=>({value:e.value,label:e.label}))},customFields:[]}},mounted(){this.customFields=this.icustomFields},methods:{submit(){this.sending=!0;var e=new FormData;e.append("photo",this.form.photo||""),e.append("name",this.form.name||""),e.append("description",this.form.description||""),e.append("custom_fields",JSON.stringify(this.form.customFields.map(t=>t.value))),this.$inertia.post(this.route("categories.update",this.category.id),e,{onError:t=>{this.errors=t},onFinish:()=>{this.sending=!1}})}}},S={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},J=r("span",{class:"text-gray-400 font-medium mx-2"},"/",-1),P={class:"bg-white rounded shadow max-w-3xl"},q={class:"p-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},z={class:"px-8 pb-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},A={class:"px-8 pb-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},G={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-full"},H={class:"form-label",for:"custom_fields"},K={class:"px-8 pb-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},Q={class:"px-8 py-4 bg-gray-100 border-t border-gray-200 flex justify-between items-center"};function W(e,t,p,X,o,d){var u,c,f;const b=l("Icons"),h=l("Link"),_=l("trashed-message"),y=l("text-input"),x=l("file-input"),w=l("v-select"),v=l("textarea-input"),V=l("DeleteRestoreComponent"),F=l("loading-button");return g(),R("div",null,[r("h1",S,[n(h,{class:"text-gray-600 hover:text-gray-800 inline-flex items-center",href:e.route("categories")},{default:m(()=>[n(b,{name:"back",class:"flex-shrink-0 w-3 h-3 md:w-5 md:h-5 fill-current ltr:mr-2 rtl:ml-2 rtl:rotate"}),a(" "+i(e.$tc("Category",2)),1)]),_:1},8,["href"]),J,a(" "+i(e.$t("Edit")),1)]),p.category.deleted_at?(g(),M(_,{key:0,class:"mb-6",onRestore:t[0]||(t[0]=()=>o.restore=!0)},{default:m(()=>[r("span",null,i(e.$t("already_deleted_x",{x:e.$tc("Category")})),1)]),_:1})):U("",!0),r("div",P,[r("form",{onSubmit:t[6]||(t[6]=j((...s)=>d.submit&&d.submit(...s),["prevent"])),autocomplete:"off"},[r("div",q,[n(y,{modelValue:o.form.name,"onUpdate:modelValue":t[1]||(t[1]=s=>o.form.name=s),errors:(u=o.errors)==null?void 0:u.name,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-full",label:e.$t("Name")},null,8,["modelValue","errors","label"])]),r("div",z,[n(x,{type:"file",accept:"image/*",label:e.$t("Photo"),modelValue:o.form.photo,"onUpdate:modelValue":t[2]||(t[2]=s=>o.form.photo=s),error:(c=o.errors)==null?void 0:c.photo,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-full"},null,8,["label","modelValue","error"])]),r("div",A,[r("div",G,[r("label",H,i(e.$tc("custom_field")),1),n(w,{multiple:"",transition:"",options:o.customFields,"input-id":"custom_fields",modelValue:o.form.customFields,"onUpdate:modelValue":t[3]||(t[3]=s=>o.form.customFields=s),dir:e.$page.props.user.account.direction,placeholder:e.$t("search_x",{x:e.$tc("custom_field",2)})},null,8,["options","modelValue","dir","placeholder"])])]),r("div",K,[n(v,{label:e.$t("Description"),modelValue:o.form.description,"onUpdate:modelValue":t[4]||(t[4]=s=>o.form.description=s),errors:(f=o.errors)==null?void 0:f.description,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full"},null,8,["label","modelValue","errors"])]),r("div",Q,[n(V,{restore:o.restore,data:p.category,permanentEnable:!1,model:"Category",routeM:"categories",onCloseRestore:t[5]||(t[5]=()=>o.restore=!1)},null,8,["restore","data"]),n(F,{loading:o.sending,class:"btn-gray",type:"submit"},{default:m(()=>[a(i(e.$t("update_x",{x:e.$tc("Category")})),1)]),_:1},8,["loading"])])],32)])])}const ue=I(O,[["render",W]]);export{ue as default};
