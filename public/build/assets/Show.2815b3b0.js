import{L as P,D as N}from"./Dropdown.48a14283.js";import{D as B}from"./Dialog.05b0b37c.js";import{M as D}from"./Modal.44e047a5.js";import T from"./Measurement.85eca749.js";import I from"./AddressInfo.40f09d77.js";import{_ as L,r as c,o as d,c as i,a as t,t as s,d as g,w as h,e as m,b as a,f as p,n as j,F as _,g as b}from"./app.d8289e67.js";import"./LoadingButton.323ea2dd.js";const O={metaInfo(){return{title:this.$t("Order Number",{x:this.order.id})}},props:{order:{default:{}}},components:{Logo:P,Dropdown:N,Dialog:B,Modal:D,Measurement:T,AddressInfo:I},data(){return{message:null,dialogButtonText:null,dialogAction:null,dialogTitle:null,dialogBody:null,confirm:!1,viewMeasurement:!1,measurement:null,shippingAddress:null,billingAddress:null,viewAddress:!1}},methods:{updateStatus(e){this.order.status=="Completed"?this.message=this.$t("Order is already marked as completed."):(this.dialogButtonText=this.$t("Yes"),this.dialogAction=()=>this.updateStatusNow(e),this.dialogTitle=this.$t("update_status_x",{x:this.$t(e)}),this.dialogBody=this.$t("ask_update_status_x",{x:this.$t(e)}),this.confirm=!0)},updateStatusNow(e){this.$emit("close"),this.$inertia.put(this.route("product_orders.status",this.order.id),{status:e})},updatePaidStatus(e){this.dialogButtonText=this.$t("Yes"),this.dialogAction=()=>this.updatePaidStatusNow(e),this.dialogTitle=this.$t("update_status_x",{x:this.$t(e)}),this.dialogBody=this.$t("ask_update_status_x",{x:this.$t(e)}),this.confirm=!0},updatePaidStatusNow(e){this.$emit("close"),this.$inertia.put(this.route("product_orders.paid_status",this.order.id),{status:e})},printOrder(){window.print()},hide(){this.$emit("close")},showMeasurement(){fetch(this.route("customer_info.measurement.show",this.order.customer.id)).then(e=>{e.json().then(o=>{this.measurement=o,this.viewMeasurement=!0})})},showAddressInfo(){fetch(this.route("customer_info.address.show",this.order.id)).then(e=>{e.json().then(o=>{this.shippingAddress=o.shipping_address,this.billingAddress=o.billing_address,this.viewAddress=!0})})}}},z={key:0,class:"bg-white rounded-md ltr:text-left rtl:text-right"},R={key:0,class:"np flex justify-between items-center px-6 py-4 mb-4 bg-gray-100 border-b rounded-t"},V={class:"font-bold"},E={class:"flex items-center"},q={class:"modal-close mx-2 cursor-pointer text-gray-700 hover:text-gray-800"},F={class:"mt-2 py-2 bg-gray-800 rounded text-sm"},Y=t("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[t("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),J=[Y],Q={class:"print"},U={class:"max-w-3xl h-full py-4 px-6 leading-normal"},G={class:"flex flex-wrap xs:flex-no-wrap justify-around w-full items-center"},H={class:"text-gray-900 mx-auto xs:mx-0",style:{width:"180px"}},K=["alt","src"],W={class:"text-sm px-4 py-4 xs:py-0 text-center xs:ltr:text-left rtl:text-right"},X={class:"font-extrabold"},Z={class:"font-bold"},tt={class:"text-sm"},et={class:"flex"},st={class:"ltr:text-right rtl:text-left ltr:mr-2 rtl:ml-2",style:{width:"70px"}},ot={class:"font-bold"},lt={class:"flex"},rt={class:"ltr:text-right rtl:text-left ltr:mr-2 rtl:ml-2",style:{width:"70px"}},nt={class:"font-bold"},dt={class:"inline-block"},it={class:"font-extrabold inline-block capitalize"},at={class:"font-extrabold inline-block"},ut={class:"font-extrabold inline-block"},ct={id:"details",class:"block xs:flex my-6"},ht={id:"company",class:"ltr:pr-0 rtl:pl-0 xs:ltr:pr-3 xs:rtl:pl-3 w-full xs:max-w-1/2"},mt={class:"px-2 py-2 border rounded-t font-bold"},pt={class:"border rounded-b border-t-0 px-2 py-2"},xt={class:"flex"},gt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},_t={key:0,class:"flex"},bt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},ft={class:"flex"},yt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},wt={key:1,class:"flex"},vt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},kt={id:"customer",class:"mt-4 xs:mt-0 ltr:pl-0 rtl:pr-0 xs:ltr:pl-3 xs:rtl:pr-3 w-full xs:max-w-1/2"},Ct={class:"px-2 py-2 border rounded-t font-bold"},At={class:"border rounded-b border-t-0 px-2 py-2"},$t={class:"flex"},St={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},Mt={key:0,class:"flex"},Pt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},Nt={class:"flex"},Bt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},Dt={key:1,class:"flex"},Tt={class:"ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},It={class:"border rounded leading-tight"},Lt={class:"px-4 py-3 border-b rounded-t font-bold"},jt={class:"rounded-b overflow-x-auto scroll-on-light"},Ot={class:"w-full all max-w-full min-w-0"},zt={class:"border-b bg-gray-200 px-4 py-2"},Rt={class:"border-b bg-gray-200 px-4 py-2"},Vt={class:"border-b bg-gray-200 px-4 py-2 text-center"},Et={class:"border-b bg-gray-200 px-4 py-2 text-center"},qt={class:"border-b bg-gray-200 px-4 py-2 text-center"},Ft={class:"border-b px-4 py-2"},Yt={style:{"min-width":"180px"}},Jt={class:"font-bold"},Qt={key:0,class:"mt-3 pl-2 text-sm"},Ut={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},Gt=["src"],Ht={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},Kt={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},Wt={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},Xt={colspan:"4",class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},Zt={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},te={class:"np block xs:flex items-end justify-between px-6 py-4 mt-4 bg-gray-100 border-t rounded-b"},ee={class:"m-1 xs:m-0"},se={class:"flex items-center cursor-pointer select-none group px-4 py-3 text-sm rounded bg-gray-200 hover:bg-gray-400 border ltr:mr-2 rtl:ml-2"},oe={class:"mb-2 py-2 bg-gray-800 rounded text-sm"},le=["onClick"],re={class:"flex items-center cursor-pointer select-none group px-4 py-3 text-sm rounded bg-gray-200 hover:bg-gray-400 border ltr:mr-2 rtl:ml-2"},ne={class:"mb-2 py-2 bg-gray-800 rounded text-sm"};function de(e,o,l,ie,n,u){const x=c("Icons"),k=c("Dropdown"),C=c("Link"),A=c("logo"),f=c("dropdown"),y=c("Dialog"),$=c("Measurement"),w=c("Modal"),S=c("AddressInfo");return l.order&&l.order.id?(d(),i("div",z,[l.order?(d(),i("div",R,[t("p",V,s(e.$t("Order"))+" - "+s(l.order.reference),1),t("div",E,[l.order.status!="Completed"?(d(),g(k,{key:0,placement:"bottom-end"},{dropdown:h(()=>[t("div",F,[t("button",{type:"button",onClick:o[0]||(o[0]=r=>u.updateStatus("Pending")),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:e.$t("Pending")})),1),t("button",{type:"button",onClick:o[1]||(o[1]=r=>u.updateStatus("Received")),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:e.$t("Received")})),1),t("button",{type:"button",onClick:o[2]||(o[2]=r=>u.updateStatus("Completed")),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:e.$t("Completed")})),1)])]),default:h(()=>[t("div",q,[a(x,{class:"w-5 h-5 fill-current",name:"scissors"})])]),_:1})):m("",!0),t("a",{onClick:o[3]||(o[3]=r=>u.printOrder()),class:"modal-close mx-2 cursor-pointer text-gray-700 hover:text-gray-800"},[a(x,{name:"printer",class:"h-5 w-5 fill-current"})]),a(C,{href:e.route("product_orders.edit",l.order.id),class:"mx-2 cursor-pointer text-gray-700 hover:text-gray-800"},{default:h(()=>[a(x,{name:"edit",class:"h-5 w-5 fill-current"})]),_:1},8,["href"]),t("a",{class:"modal-close ml-2 cursor-pointer",onClick:o[4]||(o[4]=r=>u.hide())},J)])])):m("",!0),t("div",Q,[t("div",U,[t("div",G,[t("div",H,[l.order.account.logo_path?(d(),i("img",{key:0,alt:l.order.account.name,src:`/storage/account/${l.order.account.logo_path}`},null,8,K)):(d(),g(A,{key:1}))]),t("div",W,[t("div",X,s(l.order.account.name),1),t("div",Z,s(l.order.account.phone),1),p(" "+s(l.order.account.email),1)]),t("div",tt,[t("div",et,[t("span",st,s(e.$t("No"))+":",1),t("span",ot,s(l.order.reference),1)]),t("div",lt,[t("span",rt,s(e.$t("Date"))+":",1),t("span",nt,[t("span",dt,s(e.$datetime(l.order.created_at)),1)])])])]),t("div",{class:j(["my-6 px-4 py-3 rounded text-sm flex justify-between",{"bg-gray-200":l.order.status==e.$t("Pending"),"bg-blue-200":l.order.status==e.$t("Received"),"bg-green-200":l.order.status==e.$t("Completed")}])},[t("div",null,[p(s(e.$t("Paid"))+": ",1),t("span",it,s(l.order.paid_status),1)]),t("div",null,[p(s(e.$t("Status"))+": ",1),t("span",at,s(l.order.status),1)]),t("div",null,[p(s(e.$t("Updated Date"))+": ",1),t("span",ut,s(e.$date(l.order.updated_at)),1)])],2),t("div",ct,[t("div",ht,[t("div",mt,s(e.$t("Company Details")),1),t("div",pt,[t("div",xt,[t("span",gt,s(e.$t("Name"))+":",1),t("span",null,[t("strong",null,s(l.order.account.name),1)])]),l.order.account.address?(d(),i("div",_t,[t("span",bt,s(e.$t("Address"))+":",1),t("span",null,s(l.order.account.address),1)])):m("",!0),t("div",ft,[t("span",yt,s(e.$t("Phone"))+":",1),t("span",null,s(l.order.account.phone),1)]),l.order.account.email?(d(),i("div",wt,[t("span",vt,s(e.$t("Email"))+":",1),t("span",null,s(l.order.account.email),1)])):m("",!0)])]),t("div",kt,[t("div",Ct,s(e.$t("Customer Details")),1),t("div",At,[t("div",$t,[t("span",St,s(e.$t("Name"))+":",1),t("span",null,[t("strong",null,s(l.order.customer.name),1)])]),l.order.customer.address?(d(),i("div",Mt,[t("span",Pt,s(e.$t("Address"))+":",1),t("span",null,s(l.order.customer.address),1)])):m("",!0),t("div",Nt,[t("span",Bt,s(e.$t("Phone"))+":",1),t("span",null,s(l.order.customer.phone),1)]),l.order.customer.email?(d(),i("div",Dt,[t("span",Tt,s(e.$t("Email"))+":",1),t("span",null,s(l.order.customer.email),1)])):m("",!0)])])]),t("div",It,[t("p",Lt,s(e.$tc("Product",2)),1),t("div",jt,[t("table",Ot,[t("thead",null,[t("tr",null,[t("th",zt,s(e.$t("Name")),1),t("th",Rt,s(e.$t("Photo")),1),t("th",Vt,s(e.$t("Price")),1),t("th",Et,s(e.$t("Qty")),1),t("th",qt,s(e.$t("Amount")),1)])]),t("tbody",null,[(d(!0),i(_,null,b(l.order.carts,r=>(d(),i("tr",{key:"service_"+r.id},[t("td",Ft,[t("div",Yt,[t("div",Jt,s(r.product.name),1),r.customization!=="null"?(d(),i("div",Qt,[(d(!0),i(_,null,b(JSON.parse(r.customization),(v,M)=>(d(),i("div",null,s(M)+": "+s(v),1))),256))])):m("",!0)])]),t("td",Ut,[t("img",{src:"/storage/product/"+r.product.main_photo,alt:"product-photo",class:"h-12 object-cover"},null,8,Gt)]),t("td",Ht,s(e.$number(r.unit)),1),t("td",Kt,s(r.quantity),1),t("td",Wt,s(e.$number(r.unit*r.quantity)),1)]))),128))]),t("tfoot",null,[t("tr",null,[t("th",Xt,s(e.$t("Total")),1),t("th",Zt,s(e.$number(l.order.total_price)),1)])])])])])])]),t("div",te,[t("div",ee,[t("button",{onClick:o[5]||(o[5]=r=>u.showMeasurement()),class:"inline-flex items-center mt-1 px-4 py-3 text-sm rounded bg-gray-200 hover:bg-gray-400 border ltr:mr-2 rtl:ml-2"},s(e.$t("Measurement")),1),t("button",{onClick:o[6]||(o[6]=r=>u.showAddressInfo()),class:"inline-flex items-center mt-1 px-4 py-3 text-sm rounded bg-gray-200 hover:bg-gray-400 border ltr:mr-2 rtl:ml-2"},s(e.$t("Address")),1),a(f,{class:"mt-1",placement:"top-start"},{dropdown:h(()=>[t("div",oe,[(d(!0),i(_,null,b(e.$page.props.user.account.order_statuses,r=>(d(),i("button",{type:"button",onClick:v=>u.updatePaidStatus(r),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:r})),9,le))),256))])]),default:h(()=>[t("div",se,[p(s(e.$t("Payment"))+" ",1),a(x,{class:"w-2 h-2 fill-current ml-2",name:"cheveron-up"})])]),_:1}),l.order.status!="Completed"?(d(),g(f,{key:0,class:"mt-1",placement:"top-start"},{dropdown:h(()=>[t("div",ne,[t("button",{type:"button",onClick:o[7]||(o[7]=r=>u.updateStatus("Completed")),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:e.$t("Completed")})),1),t("button",{type:"button",onClick:o[8]||(o[8]=r=>u.updateStatus("Received")),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:e.$t("Received")})),1),t("button",{type:"button",onClick:o[9]||(o[9]=r=>u.updateStatus("Pending")),class:"block w-full ltr:text-left rtl:text-right px-6 py-3 text-white hover:bg-gray-900 hover:text-white fill-white"},s(e.$t("mark_as_x",{x:e.$t("Pending")})),1)])]),default:h(()=>[t("div",re,[p(s(e.$t("Status"))+" ",1),a(x,{class:"w-2 h-2 fill-current ml-2",name:"cheveron-up"})])]),_:1})):m("",!0)]),t("button",{onClick:o[10]||(o[10]=r=>u.hide()),class:"btn-gray"},s(e.$t("Close")),1)]),a(y,{show:n.message,content:n.message,closeText:e.$t("ok"),close:()=>n.message=null},null,8,["show","content","closeText","close"]),a(y,{show:n.confirm,close:()=>n.confirm=!1,"action-text":n.dialogButtonText,action:n.dialogAction,title:n.dialogTitle,content:n.dialogBody},null,8,["show","close","action-text","action","title","content"]),a(w,{show:n.viewMeasurement,"max-width":"4xl",closeable:!0,onClose:o[12]||(o[12]=r=>n.viewMeasurement=!1)},{default:h(()=>[a($,{measurement:n.measurement,onClose:o[11]||(o[11]=()=>n.viewMeasurement=!1)},null,8,["measurement"])]),_:1},8,["show"]),a(w,{show:n.viewAddress,"max-width":"2xl",closeable:!0,onClose:o[14]||(o[14]=r=>n.viewAddress=!1)},{default:h(()=>[a(S,{shippingAddress:n.shippingAddress,billingAddress:n.billingAddress,onClose:o[13]||(o[13]=()=>n.viewAddress=!1)},null,8,["shippingAddress","billingAddress"])]),_:1},8,["show"])])):m("",!0)}const ge=L(O,[["render",de]]);export{ge as default};
